const e=document.querySelector("audio"),t=document.querySelector(".playlist"),n=e.querySelector("source"),r=t.getElementsByTagName("a");for(const t in r){let n=r[t];"function"!=typeof n&&"number"!=typeof n&&n.addEventListener("click",t=>{t.preventDefault();let r=n.getAttribute("href");window.run(r,e,n)})}e.addEventListener("ended",t=>{for(let t in r){let s=r[t],l=parseInt(t)+1;if("function"==typeof s||"number"==typeof s)continue;n.src||(n.src=r[0]),t===(r.length-1).toString()&&(l=0);let i=s.getAttribute("href");if(i.substr(i.lastIndexOf("/")+1)===n.src.substr(n.src.lastIndexOf("/")+1)){let t=r[l];window.run(t.getAttribute("href"),e,t);break}}}),window.run=(e,t,r)=>{let s=r.parentElement.getElementsByTagName("a");for(let e in s)s[e].classList&&s[e].classList.remove("active");r.classList.add("active"),n.src=e,t.load(),t.play()};